[global/wm]
margin-top = 0
margin-bottom = 0

[section/common]
monitor = ${env:MONITOR}
monitor-strict = true

background = ${env:BG}
foreground = ${env:FG}

font-0 = EssentialPragmataPro Nerd Font:pixelsize=14
font-1 = EssentialPragmataPro Nerd Font Mono:size=40
font-2 = EssentialPragmataPro Nerd Font:pixelsize=20
font-3 = EssentialPragmataPro Nerd Font:pixelsize=16
dpi = ${xrdb:polybar.dpi}

; Dimensiosn defined as pixel value (e.g. 35) or percentage (e.g. 50%)
width = 100%
height = ${xrdb:polybar.bar}


[bar/main]
inherit = section/common
; Modules are added to one of the available blocks
modules-left = i3 arrowleft window
modules-center =
modules-right = arrowright audio_out pkg wireguard bluetooth battery date

; Put the bar at the bottom of the screen
bottom = false

; Prefer fixed center position for the `modules-center` block
; When false, the center position will be based on the size of the other blocks.
fixed-center = true

[bar/bottom]
inherit = section/common
; Modules are added to one of the available blocks
modules-left = network-wired network-wireless
modules-center = openweathermap-fullfeatured
modules-right = arrowright filesystem cpu memory

; Put the bar at the bottom of the screen
bottom = true

; Prefer fixed center position for the `modules-center` block
; When false, the center position will be based on the size of the other blocks.
fixed-center = true

[module/i3]
type = internal/i3

pin-workspaces = true
index-sort = true
enable-scroll = false
enable-click = true

format = <label-state> <label-mode>

label-focused 			   = ${env:I3_FOCUSED}
label-unfocused 		   = ${env:I3_UNFOCUSED}
label-visible 			   = ${env:I3_VISIBLE}
label-urgent 			   = ${env:I3_URGENT}

[module/arrowleft]
type = custom/text
content = ${env:ARROWLEFT}

[module/window]
type = internal/xwindow
label = ${env:WINDOWTEXT}

[module/arrowright]
type = custom/text
content = ${env:ARROWRIGHT}

[module/cpu]
type = internal/cpu

; Seconds to sleep between updates
; ; Default: 1
interval = 1
; Available tags:
;   <label> (default)
;   <bar-load>
;   <ramp-load>
;   <ramp-coreload>
format = ${env:CPU}

ramp-coreload-0 = ▁
ramp-coreload-1 = ▂
ramp-coreload-2 = ▃
ramp-coreload-3 = ▄
ramp-coreload-4 = ▅
ramp-coreload-5 = ▆
ramp-coreload-6 = ▇
ramp-coreload-7 = █

[module/memory]
type = internal/memory

; Seconds to sleep between updates
; Default: 1
interval = 3

; Available tags:
;   <label> (default)
;   <bar-used>
;   <bar-free>
format = ${env:MEM}

; Available tokens:
;   %percentage_used% (default)
;   %percentage_free%
;   %gb_used%
;   %gb_free%
;   %gb_total%
;   %mb_used%
;   %mb_free%
;   %mb_total%
label = "%gb_used%/%gb_total%"

[module/filesystem]
type = internal/fs

mount-0 = /home
interval = 30
fixed-values = true
spacing = 0
; Available tags:
;   <label-mounted> (default)
;   <bar-free>
;   <bar-used>
;   <ramp-capacity>
format-mounted = ${env:FS_MOUNTED}

; Available tags:
;   <label-unmounted> (default)
format-unmounted = ${env:FS_UNMOUNTED}

; Available tokens:
;   %mountpoint%
;   %type%
;   %fsname%
;   %percentage_free%
;   %percentage_used%
;   %total%
;   %free%
;   %used%
; Default: %mountpoint% %percentage_free%%
label-mounted = "%mountpoint% %used%/%free% "

[module/pkg]
type = custom/script
interval = 120
format = ${env:PKG}
label = "%output:0:30%"
exec = ~/.config/polybar/arch_update_count.py
click-left = xfce4-terminal -e 'sh -c "yay -Syu && printf \"\npress enter to exit\" && read"'

[module/battery]
type = internal/battery
battery = BAT0
adapter = AC
full-at = 98

ramp-capacity-foreground = ${env:BATTERY_DISCHARGING_FG}
animation-charging-foreground = ${env:BATTERY_CHARGING_FG}

format-full = ${env:BATTERY_FULL}
format-charging = ${env:BATTERY_CHARGING}
format-discharging = ${env:BATTERY_DISCHARGING}

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 

animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-3 = 
animation-charging-4 = 
animation-charging-framerate = 200

[module/date]
type = custom/script
exec = ~/.config/polybar/datetime_calendar.sh
interval = 5
click-left = ~/.config/polybar/datetime_calendar.sh --popup
format = ${env:TIME}
label = %output%

# type = internal/date
# interval = 1
# date = "%Y-%m-%d"
# time = "%a %b %d, %I:%M %p "
# format = ${env:TIME}
# label = %time%

[module/audio_out]
type = custom/script
exec = ~/.config/polybar/pulseaudio-rofi.sh --output_volume_listener
tail = true
click-right = ~/.config/polybar/pulseaudio-rofi.sh --output
click-middle = pavucontrol &
click-left = ~/.config/polybar/pulseaudio-rofi.sh --mute
scroll-up =  ~/.config/polybar/pulseaudio-rofi.sh --volume_up
scroll-down = ~/.config/polybar/pulseaudio-rofi.sh --volume_down
format = ${env:AUDIO_OUT}
label = " %output:0:100%"

[module/network-wired]
type = internal/network
interface = enp0s31f6
format-disconnected-foreground = ${env:ORANGE}
format-connected-foreground = ${env:GREEN}
label-disconnected = "[%ifname%]  "
label-connected = "[%ifname%] %local_ip% "
click-right = alacritty -e 'nmtui'

[module/network-wireless]
type = internal/network
interface = wlp3s0
interval = 10
format-disconnected-foreground = ${env:ORANGE}
format-connected-foreground = ${env:GREEN}
label-disconnected = "[%ifname%]  "
label-connected = "[%ifname%-%essid% (%signal%%)] %local_ip% "
click-right = alacritty -e 'nmtui'

[module/bluetooth]
type = custom/script
interval = 0.1
exec = ~/.config/polybar/isactive-bluetooth.sh ${env:BLUE} ${env:BG}
format = ${env:BLUETOOTH}
label = %output%
click-right = blueman-manager &
click-left = ~/.config/polybar/toggle-bluetooth.sh

[module/wireguard]
type = custom/script
interval = 0.5
exec = ~/.config/polybar/isactive-wireguard.sh wg0-client
format = ${env:WG0_CLIENT}
label = %output%
click-left = ~/.config/polybar/toggle-wireguard.sh wg0-client

[module/openweathermap-fullfeatured]
type = custom/script
exec = ~/.config/polybar/weather.sh
interval = 300
label-font = 4
click-left = firefox https://www.wunderground.com/hourly/us/me/westbrook/43.68%2C-70.33?cm_ven=localwx_hour

; vim: set ft=dosini:
